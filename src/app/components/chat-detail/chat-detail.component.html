<div class="page-content space-top p-b50" >
  <div class="container">
    <div class="chat-box-area style-2 message-list"> <!-- ✔️ Cambiamos a message-list -->

      <div *ngFor="let message of messages"
           [ngClass]="{'chat-content user': message.sender === currentUserId, 'chat-content': message.sender !== currentUserId}">
        <div class="message-item">
          <div class="bubble">{{ message.text }}</div>
          <div class="message-time">{{ message.created | date:'shortTime' }}</div>
        </div>
      </div>

      <!-- ✔️ Punto final para el scroll -->
      <div #scrollBottom></div>

    </div>

    <div class="input-group">
      <input type="text" [(ngModel)]="newMessage" (keyup.enter)="sendMessage()" placeholder="Escribe un mensaje..." class="form-control">
      <button (click)="sendMessage()" class="btn btn-gradient-purple">Enviar</button>
    </div>
  </div>
</div>
